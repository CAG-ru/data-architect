<!DOCTYPE html>
<html th:replace="~{base :: layout(~{::title}, ~{::section})}">
<head>
    <title>Детали витрины</title>
</head>
<body>
<section>
    <div class="page-name" id='marts-page'></div>
    <link th:href="@{/plugins/footable/css/footable.bootstrap.min.css}" rel="stylesheet" type="text/css" />
    <script th:src="@{/plugins/footable/js/footable.js}" type="text/javascript"></script>
    <link th:href="@{/styles/mart/marts.css}" rel="stylesheet" type="text/css"/>
    <script th:src="@{/js/marts/view-mart.js}" defer="defer"></script>

    <!-- Здесь передается id соединение, если оно подается на редактирование -->
    <div
            th:if="${mart.id!=null}"
            id="mart_id" th:data-mart_id="${mart.id}"></div>

    <div class="container-fluid">
        <div class="edit-body">
            <div class=" mb_panel with-shadow white-background" id="accordion">
                <h4>Детали витрины <strong>
                    '
                    <th:block
                    th:text="${mart.martInfo.martName}"
                    ></th:block>
                    '</strong></h4>
                <br>

                <div class="card-box">
                    <a href="#common_info" data-toggle="collapse" aria-expanded="false" aria-controls="common_info">
                        <i class="fas fa-chevron-down"></i>
                        Описание
                        <i class="fas fa-chevron-down"></i>
                    </a>
                </div>

                <div id="common_info" class="collapse show" data-parent="#accordion">
                    <table class="table table-striped table-sm"
                    th:if="${mart!=null}"
                    >
                        <thead class="thead-dark">
                        <tr>
                            <th>Характеристика витрины</th>
                            <th>Значение</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>Название</td>
                            <td th:text="${mart.martInfo.martName}"></td>
                        </tr>
                        <tr>
                            <td>Описание</td>
                            <td th:text="${mart.martInfo.martDescription}"></td>
                        </tr>
                        <tr>
                            <td>Для проверки качества</td>
                            <td>
                                <th:block th:if="${mart.martInfo.martForCheckQuality}">Да</th:block>
                                <th:block th:if="${mart.martInfo.martForCheckQuality!=true}">Нет</th:block>
                            </td>
                        </tr>
                        <tr>
                            <td>Срок действия</td>
                            <td>
                                <th:block th:if="${mart.martInfo.martPermanent}">Постоянная</th:block>
                                <th:block th:text="${mart.martInfo.martDueDate}"></th:block>
                            </td>
                        </tr>
                        <tr>
                            <td>Создал описание витрины</td>
                            <td th:text="${mart.createdBy}">{{ mart.created_by }}</td>
                        </tr>
                        <tr>
                            <td>Дата создания описания витрины</td>
                            <td th:text="${mart.createdAt}"></td>
                        </tr>
                        <tr>
                            <td>Подписчики</td>
                            <td>1
                            </td>
                        </tr>
                        <tr>
                            <td>Название таблицы в базе данных</td>
                            <td th:text="${mart.martInfo.martDestTable}"></td>
                        </tr>
                        <tr>
                            <td>Дата создания таблицы витрины в базе данных</td>
                            <td th:text="${mart.createdTableAt}">
                            </td>
                        </tr>
                        <tr>
                            <td>Количество строк в витрине</td>
                            <td th:text="${mart.martInfo.martRowsCount}">
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="card-box">
                    <a href="#common_info_additional" data-toggle="collapse" aria-expanded="false"
                       aria-controls="common_info_additional">
                        <i class="fas fa-chevron-down"></i>
                        Дополнительное описанние
                        <i class="fas fa-chevron-down"></i>
                    </a>
                </div>
                <div id="common_info_additional" class="collapse" data-parent="#accordion">
                    <table class="table table-striped table-sm" th:if="${mart != null}">
                        <thead class="thead-dark">
                        <tr>
                            <th>Характеристика витрины</th>
                            <th>Значение</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>Признак публикации</td>
                            <td th:text="${mart.martInfo.isPublished}"></td>
                        </tr>
                        <tr>
                            <td>Дата публикации данных</td>
                            <td th:text="${mart.martInfo.isPublished}"></td>
                        </tr>
                        <th:block th:if="${mart.martAdditional!=null}">
                        <tr>
                            <td>Для цитирования</td>
                            <td th:text="${mart.martAdditional.forCitations}">{{ mart.mart_info. }}</td>
                        </tr>
                        <tr>
                            <td>Внутренний идентификатор набора данных</td>
                            <td th:text="${mart.martAdditional.internalDataSetIdentifier}">{{ mart.mart_info.internal_data_set_identifier }}</td>
                        </tr>
                        <tr>
                            <td>DOI-метка набора данных</td>
                            <td th:text="${mart.martAdditional.doiTag}"></td>
                        </tr>
                        <tr>
                            <td>Cсылка на описание набора данных</td>
                            <td th:text="${mart.martAdditional.linkToDatasetDescription}"></td>
                        </tr>
                        <tr>
                            <td>Краткое наименование набора данных</td>
                            <td th:text="${mart.martAdditional.shortDescription}"></td>
                        </tr>
                        <tr>
                            <td>Полное наименование набора данных</td>
                            <td th:text="${mart.martAdditional.fullDescription}"></td>
                        </tr>
                        <tr>
                            <td>Регулярность обновления набора данных</td>
                            <td th:text="${mart.martAdditional.regularityOfDataSetUpdate}"></td>
                        </tr>
                        <tr>
                            <td>Лицензия/условия использования</td>
                            <td th:text="${mart.martAdditional.licence}"></td>
                        </tr>
                        <tr>
                            <td>Дата обновления данных</td>
                            <td th:text="${mart.updatedAt}"></td>
                        </tr>
                        <tr>
                            <td>Режим доступа</td>
                            <td th:text="${mart.martAdditional.accessMode}">{{ mart.mart_info.access_mode }}</td>
                        </tr>
<!--                        <tr>-->
<!--                            <td>Путь к файлу набора данных</td>-->
<!--                            <td th:text="${mart.martAdditional.}">{{ mart.mart_info.file_path }}</td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td>Объем данных до архивации (чистый размер) [байт]</td>-->
<!--                            <td th:text="${mart.martAdditional.}">{{ mart.mart_info.file_size }}</td>-->
<!--                        </tr>-->
                        <tr>
                            <td>API-url</td>
                            <td th:text="${mart.martAdditional.apiUrl}">{{ mart.mart_info.api_url }}</td>
                        </tr>
                        <tr>
                            <td>Приоритет</td>
                            <td th:text="${mart.martAdditional.priority}"></td>
                        </tr>
                        <tr>
                            <td>Категории набора</td>
                            <td th:text="${mart.martAdditional.setCategories}"></td>
                        </tr>
                        <tr>
                            <td>Уровень агрегации</td>
                            <td th:text="${mart.martAdditional.aggregationLevel}"></td>
                        </tr>
                        <tr>
                            <td>Справочники и классификаторы</td>
                            <td th:text="${mart.martAdditional.handbooksAndClassifiers}"> }}</td>
                        </tr>
                        <tr>
                            <td>Сущность возникновения данных</td>
                            <td th:text="${mart.martAdditional.theEssenceOfDataEmergence}"></td>
                        </tr>
                        <tr>
                            <td>Тэги</td>
                            <td th:text="${mart.martAdditional.tags}"></td>
                        </tr>
                        </th:block>
                        </tbody>
                    </table>
                </div>
                <div class="card-box">
                    <a href="#data_info" data-toggle="collapse" aria-expanded="false" aria-controls="data_info">
                        <i class="fas fa-chevron-down"></i>
                        Содержание витрины
                        <i class="fas fa-chevron-down"></i>
                    </a>
                </div>
                <div id="data_info" class="collapse" data-parent="#accordion">
                    <h4>Содержимое таблицы <strong>
                        '
                        <th:block
                                th:text="${mart.martInfo.martDestTable}"
                        ></th:block>
                        '</strong></h4>
                    <div class="small font-italic">Примечание: в данном представлении отображается до 100 строк. Полное
                        содержимое
                        витрины вы можете посмотреть непосредственно в базе данных.
                    </div>
                    <div id="id_view_mart"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="edit-footer-fixed center">
        <a href='/marts/' class="btn btn-outline-danger btn-sm" role="button" id="button_cancel">Назад</a>
    </div>
</section>
</body>
</html>